# ğŸ”€ Git å·¥ä½œæµæŒ‡å—

æœ¬æ–‡æ¡£å®šä¹‰ Aicy é¡¹ç›®çš„ Git å·¥ä½œæµç¨‹ã€‚

## ğŸ“Š åˆ†æ”¯ç­–ç•¥

```
main â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         â†‘                    â†‘
        merge                merge
         â”‚                    â”‚
Aicy â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         â†‘           â†‘           â†‘
        merge       merge       merge
         â”‚           â”‚           â”‚
feature/aâ”˜  feature/bâ”˜  fix/xxx â”€â”˜
```

### åˆ†æ”¯ç±»å‹

| åˆ†æ”¯ | ç”¨é€” | å‘½åè§„èŒƒ | ä¿æŠ¤ |
|------|------|----------|------|
| `main` | ç”Ÿäº§ç¯å¢ƒ | - | âœ… åªæ¥å— PR |
| `Aicy` | å¼€å‘ä¸»åˆ†æ”¯ | - | âœ… åªæ¥å— PR |
| `feature/*` | æ–°åŠŸèƒ½ | `feature/åŠŸèƒ½å` | âŒ |
| `fix/*` | Bug ä¿®å¤ | `fix/é—®é¢˜æè¿°` | âŒ |
| `docs/*` | æ–‡æ¡£æ›´æ–° | `docs/æ–‡æ¡£å` | âŒ |
| `style/*` | æ ·å¼è°ƒæ•´ | `style/æè¿°` | âŒ |
| `refactor/*` | ä»£ç é‡æ„ | `refactor/æ¨¡å—å` | âŒ |

---

## ğŸ”„ å¼€å‘æµç¨‹

### 1. å¼€å§‹æ–°ä»»åŠ¡

```bash
# 1. åˆ‡æ¢åˆ°å¼€å‘ä¸»åˆ†æ”¯
git checkout Aicy

# 2. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin Aicy

# 3. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/affection-system
```

### 2. å¼€å‘ä¸­

```bash
# å®šæœŸæäº¤
git add .
git commit -m "feat(affection): æ·»åŠ å¥½æ„Ÿåº¦æ•°å€¼æ˜¾ç¤º"

# å¤šæ¬¡å°æäº¤ä¼˜äºä¸€æ¬¡å¤§æäº¤
git commit -m "feat(affection): æ·»åŠ å¥½æ„Ÿåº¦å¢åŠ é€»è¾‘"
git commit -m "feat(affection): æ·»åŠ å¥½æ„Ÿåº¦ç­‰çº§ç³»ç»Ÿ"
```

### 3. å®Œæˆå¼€å‘

```bash
# 1. åŒæ­¥æœ€æ–°ä»£ç 
git checkout Aicy
git pull origin Aicy
git checkout feature/affection-system
git rebase Aicy  # æˆ– git merge Aicy

# 2. æ¨é€åˆ†æ”¯
git push origin feature/affection-system

# 3. åˆ›å»º Pull Request
```

### 4. ä»£ç å®¡æŸ¥

- ç­‰å¾…å›¢é˜Ÿæˆå‘˜å®¡æŸ¥
- æ ¹æ®åé¦ˆä¿®æ”¹
- å®¡æŸ¥é€šè¿‡ååˆå¹¶

### 5. åˆå¹¶åæ¸…ç†

```bash
# åˆ é™¤æœ¬åœ°åˆ†æ”¯
git branch -d feature/affection-system

# åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
git push origin --delete feature/affection-system
```

---

## ğŸ“ æäº¤è§„èŒƒ

### æ ¼å¼

```
<ç±»å‹>(<èŒƒå›´>): <æè¿°>

[å¯é€‰çš„æ­£æ–‡]

[å¯é€‰çš„è„šæ³¨]
```

### ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `feat` | æ–°åŠŸèƒ½ | `feat(chat): æ·»åŠ å¥½æ„Ÿåº¦ç³»ç»Ÿ` |
| `fix` | Bug ä¿®å¤ | `fix(i18n): ä¿®å¤è‹±æ–‡ç¿»è¯‘é—®é¢˜` |
| `docs` | æ–‡æ¡£ | `docs(readme): æ›´æ–°éƒ¨ç½²è¯´æ˜` |
| `style` | æ ·å¼ | `style(mobile): ä¼˜åŒ–ä¾§è¾¹æ åŠ¨ç”»` |
| `refactor` | é‡æ„ | `refactor(memory): ä¼˜åŒ–ä¸Šä¸‹æ–‡æ„å»º` |
| `perf` | æ€§èƒ½ | `perf(api): å‡å°‘ API è°ƒç”¨æ¬¡æ•°` |
| `test` | æµ‹è¯• | `test(chat): æ·»åŠ å¯¹è¯æµ‹è¯•` |
| `chore` | æ‚åŠ¡ | `chore(deps): æ›´æ–°ä¾èµ–ç‰ˆæœ¬` |

### èŒƒå›´

| èŒƒå›´ | è¯´æ˜ |
|------|------|
| `chat` | èŠå¤©åŠŸèƒ½ |
| `chart` | å›¾è¡¨ç›¸å…³ |
| `i18n` | å¤šè¯­è¨€ |
| `mobile` | ç§»åŠ¨ç«¯ |
| `api` | API ç›¸å…³ |
| `ui` | ç•Œé¢æ ·å¼ |
| `memory` | è®°å¿†ç³»ç»Ÿ |
| `affection` | å¥½æ„Ÿåº¦ç³»ç»Ÿ |

### ç¤ºä¾‹

```bash
# âœ… å¥½çš„æäº¤
feat(affection): æ·»åŠ å¥½æ„Ÿåº¦ç­‰çº§ç³»ç»Ÿ

- å®ç° 1-100 å¥½æ„Ÿåº¦æ•°å€¼
- æ·»åŠ ç­‰çº§åˆ’åˆ†ï¼šé™Œç”Ÿäººã€æœ‹å‹ã€æ‹äºº
- ç­‰çº§è¾¾æ ‡è§£é”æ–°å¯¹è¯é€‰é¡¹

Closes #42

# âŒ ä¸å¥½çš„æäº¤
update
fix bug
ä¿®æ”¹äº†ä¸€äº›ä¸œè¥¿
```

---

## ğŸ”€ åˆå¹¶ç­–ç•¥

### Pull Request åˆå¹¶

1. **Squash and Merge** - å¤šä¸ªæäº¤åˆå¹¶ä¸ºä¸€ä¸ª
   - é€‚ç”¨äºï¼šå°åŠŸèƒ½ã€ä¿®å¤
   
2. **Merge Commit** - ä¿ç•™æ‰€æœ‰æäº¤
   - é€‚ç”¨äºï¼šå¤§åŠŸèƒ½ã€éœ€è¦ä¿ç•™å†å²

3. **Rebase and Merge** - å˜åŸºååˆå¹¶
   - é€‚ç”¨äºï¼šéœ€è¦å¹²å‡€çš„æäº¤å†å²

### å†²çªè§£å†³

```bash
# 1. åˆ‡æ¢åˆ°åŠŸèƒ½åˆ†æ”¯
git checkout feature/xxx

# 2. å˜åŸºåˆ°æœ€æ–° Aicy
git rebase Aicy

# 3. è§£å†³å†²çª
# ç¼–è¾‘å†²çªæ–‡ä»¶...
git add .
git rebase --continue

# 4. å¼ºåˆ¶æ¨é€ï¼ˆå°å¿ƒï¼ï¼‰
git push origin feature/xxx --force
```

---

## ğŸ·ï¸ ç‰ˆæœ¬å‘å¸ƒ

### ç‰ˆæœ¬å·è§„èŒƒ

ä½¿ç”¨ [Semantic Versioning](https://semver.org/):

```
MAJOR.MINOR.PATCH
  â”‚      â”‚     â”‚
  â”‚      â”‚     â””â”€â”€ è¡¥ä¸ç‰ˆæœ¬ï¼šBug ä¿®å¤
  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€ æ¬¡ç‰ˆæœ¬ï¼šæ–°åŠŸèƒ½ï¼ˆå‘åå…¼å®¹ï¼‰
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä¸»ç‰ˆæœ¬ï¼šç ´åæ€§å˜æ›´
```

### å‘å¸ƒæµç¨‹

```bash
# 1. åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout Aicy
git checkout -b release/v2.0.0

# 2. æ›´æ–°ç‰ˆæœ¬å·ã€CHANGELOG
# ç¼–è¾‘ç›¸å…³æ–‡ä»¶...

# 3. åˆå¹¶åˆ° main
git checkout main
git merge release/v2.0.0

# 4. æ‰“æ ‡ç­¾
git tag -a v2.0.0 -m "Release v2.0.0"
git push origin v2.0.0

# 5. åˆå¹¶å› Aicy
git checkout Aicy
git merge main
```

---

## ğŸ›¡ï¸ åˆ†æ”¯ä¿æŠ¤

### main åˆ†æ”¯

- âœ… å¿…é¡»é€šè¿‡ PR åˆå¹¶
- âœ… è‡³å°‘ 1 äººå®¡æŸ¥
- âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡
- âŒ ç¦æ­¢å¼ºåˆ¶æ¨é€

### Aicy åˆ†æ”¯

- âœ… å¿…é¡»é€šè¿‡ PR åˆå¹¶
- âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡
- âŒ ç¦æ­¢å¼ºåˆ¶æ¨é€

---

## â“ å¸¸è§é—®é¢˜

### å¿˜è®°ä»æœ€æ–°ä»£ç å¼€å§‹ï¼Ÿ

```bash
git checkout Aicy
git pull origin Aicy
git checkout feature/xxx
git rebase Aicy
```

### éœ€è¦æ’¤é”€æäº¤ï¼Ÿ

```bash
# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ›´æ”¹ï¼‰
git reset --soft HEAD~1

# æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¸¢å¼ƒæ›´æ”¹ï¼‰
git reset --hard HEAD~1
```

### é”™è¯¯åˆ†æ”¯æäº¤äº†ï¼Ÿ

```bash
# åˆ›å»ºæ­£ç¡®åˆ†æ”¯
git checkout -b correct-branch

# å›åˆ°é”™è¯¯åˆ†æ”¯æ’¤é”€
git checkout wrong-branch
git reset --hard HEAD~1
```

